#include "../CqUsbCam.h"
#include "../Types.h"
#include "../imgframe.h"

#include <opencv/cv.hpp>
#include <opencv2/opencv.hpp>
#include <opencv2/core/core.hpp>
#include <opencv2/highgui/highgui.hpp>

CCqUsbCam a;

cv::Mat frame(480, 752, CV_8UC1);

void Disp(void* frameFata)
{
	unsigned char* pData=(unsigned char*)frameFata;

	frame.data=pData;
        cv::imshow("disp",frame);
        cv::waitKey(1);
}


int main(void)
{
	a.OpenUSB();
	a.InitSensor();
	a.startcap(752,480,Disp);
	while(1)
		sleep(1);
	return 0;
}
